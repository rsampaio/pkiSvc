syntax = "proto3";

package pki;

import "google/protobuf/empty.proto";

service Register {
  rpc CreateIdentity(Identity) returns (Certificate) {}
  rpc VerifyCertificate(Certificate) returns (google.protobuf.Empty) {}
}

message Identity {
  string hostname = 1;
  string subject = 2;
}

message Certificate {
  string server_key = 1;
  string server_certificate = 2;
  string ca_certificate = 3;
}